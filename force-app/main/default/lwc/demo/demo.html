<template>

<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
                <!-- modal header start -->
                <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                <lightning-icon icon-name="utility:close"
                        alternative-text="close"
                        variant="inverse"
                        size="small" ></lightning-icon>
                <span class="slds-assistive-text">Close</span>
                </button>
                <h2 class="slds-text-heading--medium" style="color:#706e6b;text-align:left;font-weight:bold;border-bottom:1px grey" >Sales Opportunity Optimizerâ„¢ (SOO)</h2>
                <lightning-tabset >
                <lightning-tab label="SOO Background" value="1">
                        <lightning-record-edit-form object-api-name="SOO__c" onsuccess={handleSuccess} record-id={recordId}> <!-- onload={handleSoo} -->
                                <lightning-messages></lightning-messages>
                                        <div class="slds-section slds-is-open">
                                        <h3 class="slds-section__title">
                                                <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                <span class="slds-truncate" title=" Section 1a. Background" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;"> Section 1a. Background</span>
                                                </button>
                                        </h3>
                                        <template if:true={showTabTwo}>
                                                <div class="slds-col">
                                                        <lightning-output-field field-name="SOO_ID__c"></lightning-output-field>
                                                </div>
                                        </template>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Account__c" required data-id="accountInfo"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Segment__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Date__c"></lightning-input-field>
                                                </div>
                                        </div>
                        
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col" style="width:16em;">
                                                        <lightning-input-field field-name="Business_Unit__c" data-id="businessUnit"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <span class="slds-form-element__label">SOO Name : Customer/Fab/Device/Node/Application/Product/Objective</span>
                                                        <lightning-input-field field-name="Name" variant="label-hidden"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Sales_Person__c"></lightning-input-field>
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                        
                                                </div>
                                                <div class="slds-col">
                        
                                                </div>
                                                <div class="slds-col" style="margin-left:28em;">
                                                        <lightning-input-field field-name="BM_Person__c"></lightning-input-field>
                                                </div>
                                        </div>
                                </div>
                        
                                <div class="slds-section slds-is-open">
                                        <h3 class="slds-section__title">
                                                <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                <span class="slds-truncate" title="Section 1b. Internal Team" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;">Section 1b. Internal Team</span>
                                                </button>
                                        </h3>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_1__c"></lightning-input-field>          
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Sales_Team1__c" ></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_5__c"></lightning-input-field>
                                                </div>                                                                
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_5__c"></lightning-input-field>
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_2__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_2__c" ></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_6__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_6__c" ></lightning-input-field>
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_3__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_3__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_7__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_7__c"></lightning-input-field>
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_4__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_4__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                <lightning-input-field field-name="SOO_Team_Category_8__c"></lightning-input-field>
                                                </div>
                                                <div class="slds-col">
                                                <lightning-input-field field-name="SOO_Team_8__c"></lightning-input-field>
                                                </div>
                                        </div>
                                </div>
                                <div class="slds-section slds-is-open">
                                        <h3 class="slds-section__title">
                                                <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                        <span class="slds-truncate" title=" Section 1f. Single Sales Objective (SSO)" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;"> Section 1f. Single Sales Objective (SSO)</span>
                                                </button>
                                        </h3>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Order_Status__c"></lightning-input-field>          
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Opportunity_ID__c"></lightning-input-field>
                                                </div>                                                                
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Single_Sales_Objective__c"></lightning-input-field>          
                                                </div>                                                   
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-output-field field-name="Account__c"></lightning-output-field>          
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Fab_Name__c"></lightning-input-field>
                                                </div>                                                                
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <span class="slds-form-element__label">Device Type</span>
                                                        <div class="slds-form-element__control">{deviceType}</div>
                                                </div>
                                                <div class="slds-col">
                                                        <span class="slds-form-element__label">Customer Node</span>
                                                        <div class="slds-form-element__control">{CustomerNode}</div>
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        Application Name (Customer) --{ApplicationName}
                                                </div>
                                                <div class="slds-col">
                                                        AMAT Product (G3) --{AMATProduct}
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Target_Price_in_USD__c"></lightning-input-field>          
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Expected_PO_Date__c"></lightning-input-field>
                                                </div>
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Target_Objective__c"></lightning-input-field>          
                                                </div>
                                        </div>
                                </div>
                                <div class="slds-section slds-is-open">
                                        <h3 class="slds-section__title">
                                                <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                        <span class="slds-truncate" title=" Section 2d. Primary Competitor Information" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;"> Section 2d. Primary Competitor Information</span>
                                                    </button>
                                        </h3>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="CompetitorCompany__c"></lightning-input-field>          
                                                </div>
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Competitor_Product__c"></lightning-input-field>
                                                </div>                                                                
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Competitor_Product_Price__c"></lightning-input-field>          
                                                </div>                                                
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Bundle_Offer__c"></lightning-input-field>          
                                                </div>                                                
                                        </div>
                                        <div class="slds-grid slds-gutters">
                                                <div class="slds-col">
                                                        <lightning-input-field field-name="Competitor_Product_Installation_Status__c"></lightning-input-field>          
                                                </div>                                                
                                        </div>
                                </div>
                                <lightning-button class="slds-m-top_small" variant="brand" type="submit" name="update" label="Save & Next"> </lightning-button>
                                </lightning-record-edit-form>
                </lightning-tab>
                <lightning-tab label="TAMBA tagging & Corporate Tagging" value="2">
                        <c-sootagging record-id={recordId} ontambaselected={handleTambaselected} onproductscorecard={handleproductscorecard}></c-sootagging>
                </lightning-tab>
                <template if:true={isUpdate}>
                <lightning-tab label="R&D" value="3">
                        <lightning-tabset active-tab-value={activeTab}>
                        <template if:true={isUpdate}>
                        <div style="width:150%;">
                        <lightning-tab label="Milestone" value="1" onactive={handleActive}>
                                <div>
                                        <c-soomilestones record-id={recordId} type="RD" tambarecords={tambaselected} onsave={handleSave}></c-soomilestones>
                                </div>
                        </lightning-tab>
                        </div>
                        <lightning-tab label="Decision Makers" value="2" onactive={handleActive}>
                                <div>
                                        <c-soodecisionmakers record-id={recordId} type="RD" onsave={handleSave}></c-soodecisionmakers>
                                </div>
                        </lightning-tab>
                        <lightning-tab label="HVPs" value="3" onactive={handleActive}>
                                <div>
                                        <c-soohvps record-id={recordId} type="RD" onsave={handleSave}></c-soohvps>
                                </div>
                        </lightning-tab>
                        <lightning-tab label="Area of Strength" value="4" onactive={handleActive}>
                                <div>
                                        <c-sooareastrength record-id={recordId} type="RD" onsave={handleSave}></c-sooareastrength>
                                </div>
                        </lightning-tab>
                        <lightning-tab label="Red Flag and Strategy" value="5" onactive={handleActive}>
                                <div>
                                        <c-sooredflagstrategy record-id={recordId} type="RD" onsave={handleSave}></c-sooredflagstrategy>
                                </div>
                        </lightning-tab>
                        <lightning-tab label="Action Items" value="6" onactive={handleActive}>
                                <div>
                                        <c-sootasks record-id={recordId} type="RD" onsave={handleSave}></c-sootasks>
                                </div>
                        </lightning-tab>
                        <lightning-tab label="Executive Help Needed" value="7" onactive={handleActive}>
                                <div>
                                        <c-sooexecutivehelp record-id={recordId} type="RD" onsave={handleSave}></c-sooexecutivehelp>
                                </div>
                        </lightning-tab>
                        <template if:true={hasPSC}>
                                <lightning-tab label="Product Scorecard (PSC)" value="8" onactive={handleActive}>
                                        <div>
                                                <c-sooproductscorecard record-id={recordId} pscid={pscId}></c-sooproductscorecard>
                                        </div>
                                </lightning-tab>
                        </template>
                        <lightning-tab label="Economic Value Analysis (EVA) and Vale Price Setting (VPS)" value="9" onactive={handleActive}>
                                <div>
                                        <c-sooeconomicvalue record-id={recordId}></c-sooeconomicvalue>
                                </div>
                        </lightning-tab>
                </template>
                </lightning-tabset>

                </lightning-tab>
                        <lightning-tab label="Production" value="4">
                                <lightning-tabset active-tab-value={activeTab}>
                                        <lightning-tab label="Milestone" value="1" onactive={handleActive}>
                                                <div>
                                                        <c-soomilestones record-id={recordId} type="Production" tambarecords={tambaselected} onsave={handleSave}></c-soomilestones>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="Decision Makers" value="2" onactive={handleActive}>
                                                <div>
                                                        <c-soodecisionmakers record-id={recordId} type="Production" onsave={handleSave}></c-soodecisionmakers>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="HVPs" value="3" onactive={handleActive}>
                                                <div>
                                                        <c-soohvps record-id={recordId} type="Production" onsave={handleSave}></c-soohvps>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="Area of Strength" value="4" onactive={handleActive}>
                                                <div>
                                                        <c-sooareastrength record-id={recordId} type="Production" onsave={handleSave}></c-sooareastrength>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="Red Flag and Strategy" value="5" onactive={handleActive}>
                                                <div>
                                                        <c-sooredflagstrategy record-id={recordId} type="Production" onsave={handleSave}></c-sooredflagstrategy>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="Action Items" value="6" onactive={handleActive}>
                                                <div>
                                                        <c-sootasks record-id={recordId} type="Production" onsave={handleSave}></c-sootasks>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="Executive Help Needed" value="7" onactive={handleActive}>
                                                <div>
                                                        <c-sooexecutivehelp record-id={recordId} type="Production" onsave={handleSave}></c-sooexecutivehelp>
                                                </div>
                                        </lightning-tab>
                                        <lightning-tab label="Economic Value Analysis (EVA) and Vale Price Setting (VPS)" value="8" onactive={handleActive}>
                                                <div>
                                                        <c-sooeconomicvalue record-id={recordId}></c-sooeconomicvalue>
                                                </div>
                                        </lightning-tab>
                                </lightning-tabset>
                        </lightning-tab>
                </template>
                        
                </lightning-tabset>
                <!--<lightning-tabset active-tab-value={activeTab}>
                
                
                </lightning-tabset> -->
                </header>
                <!-- modal body start -->
        <!-- <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                
                </div>-->
                <!-- modal footer start-->
                <footer class="slds-modal__footer">
                <!-- <template if:true={displaySave}>
                <button class="slds-button slds-button_neutral" onclick={save}>Save</button>
                </template>-->
                <button class="slds-button slds-button_neutral" onclick={closeModal}>Save & complete</button>
                <button class="slds-button slds-button_neutral" onclick={closeModal}>Cancel</button>
                </footer>
        </div>
        </section>

        <div class="slds-backdrop slds-backdrop_open"></div>
</template>