<template>
   
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
              <div class="slds-modal__container">
                 <!-- modal header start -->
                 <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                       <lightning-icon icon-name="utility:close"
                          alternative-text="close"
                          variant="inverse"
                          size="small" ></lightning-icon>
                       <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 class="slds-text-heading--medium" style="color:#706e6b;text-align:left;font-weight:bold;border-bottom:1px grey" >Sales Opportunity Optimizerâ„¢ (SOO)</h2>
                    <lightning-tabset>
                        <lightning-tab label="SOO Background" value="1">
                                <lightning-record-edit-form object-api-name="SOO__c"  onsuccess={handleSuccess} record-id={recordId}> <!--  -->
                                        <lightning-messages></lightning-messages>
                                                <div class="slds-section slds-is-open">
                                                <h3 class="slds-section__title">
                                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                        <span class="slds-truncate" title=" Section 1a. Background" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;"> Section 1a. Background</span>
                                                        </button>
                                                </h3>
                                                <template if:true={showTabTwo}>
                                                        <div class="slds-col">
                                                                <lightning-output-field field-name="SOO_ID__c"></lightning-output-field>
                                                        </div>
                                                </template>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Account__c" required data-id="accountInfo"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Segment__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Date__c"></lightning-input-field>
                                                        </div>
                                                </div>
                                
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col" style="width:16em;">
                                                                <lightning-input-field field-name="Business_Unit__c" data-id="businessUnit"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Name"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Sales_Person__c"></lightning-input-field>
                                                        </div>
                                                </div>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                
                                                        </div>
                                                        <div class="slds-col">
                                
                                                        </div>
                                                        <div class="slds-col" style="margin-left:28em;">
                                                                <lightning-input-field field-name="BM_Person__c"></lightning-input-field>
                                                        </div>
                                                </div>
                                        </div>
                                
                                        <div class="slds-section slds-is-open">
                                                <h3 class="slds-section__title">
                                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                        <span class="slds-truncate" title="Section 1b. Internal Team" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;">Section 1b. Internal Team</span>
                                                        </button>
                                                </h3>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_1__c"></lightning-input-field>          
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Sales_Team1__c" ></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_5__c"></lightning-input-field>
                                                        </div>                                                                
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_5__c"></lightning-input-field>
                                                        </div>
                                                </div>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_2__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_2__c" ></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_6__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_6__c" ></lightning-input-field>
                                                        </div>
                                                </div>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_3__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_3__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_7__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_7__c"></lightning-input-field>
                                                        </div>
                                                </div>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_Category_4__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="SOO_Team_4__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_Category_8__c"></lightning-input-field>
                                                        </div>
                                                        <div class="slds-col">
                                                        <lightning-input-field field-name="SOO_Team_8__c"></lightning-input-field>
                                                        </div>
                                                </div>
                                        </div>
                                        <div class="slds-section slds-is-open">
                                                <h3 class="slds-section__title">
                                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                        <span class="slds-truncate" title="Section 1c. Corporate Tagging" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;">Section 1c. Corporate Tagging</span>
                                                        </button>
                                                </h3>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Large_Order_Pipeline__c"></lightning-input-field>          
                                                        </div>
                                                        <!-- <div class="slds-col">
                                                                <lightning-input-field field-name="Primary_Product_Scorecard__c" ></lightning-input-field>
                                                        </div>-->
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="AGS_Prioritized_TAMBA__c"></lightning-input-field>
                                                        </div>                                                                
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="TAMBA_Priority__c" onchange={handleTambaPriority}></lightning-input-field>
                                                        </div>
                                                </div>
                                        </div>
                                        <div class="slds-section slds-is-open">
                                                <c-soo-tamba ontambaselected={handleTambaselected}></c-soo-tamba>
                                        </div>
                                        <div class="slds-section slds-is-open">
                                                <h3 class="slds-section__title">
                                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" style="background:#f95e59">
                                                                <span class="slds-truncate" title=" Section 1f. Single Sales Objective (SSO)" style="text-align:left;color:#FFFFFF;height: 30px;text-transform:None;font-size: 15px;"> Section 1f. Single Sales Objective (SSO)</span>
                                                        </button>
                                                </h3>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Order_Status__c"></lightning-input-field>          
                                                        </div>
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Opportunity_ID__c"></lightning-input-field>
                                                        </div>                                                                
                                                </div>
                                                <div class="slds-grid slds-gutters">
                                                        <div class="slds-col">
                                                                <lightning-input-field field-name="Single_Sales_Objective__c"></lightning-input-field>          
                                                        </div>                                                   
                                                </div>
                                        </div>
                                        <lightning-button class="slds-m-top_small" variant="brand" type="submit" name="update" label="Save & Next"> </lightning-button>
                                        </lightning-record-edit-form>
                        </lightning-tab>
                        <template if:true={isUpdate}>
                       <lightning-tab label="R&D" value="2">
                          <lightning-tabset active-tab-value={activeTab}>
                          <template if:true={isUpdate}>
                          <lightning-tab label="Decision Makers" value="2">
                                  <div>
                                          <c-soodecisionmakers record-id={recordId} type="RD" onsave={handleSave}></c-soodecisionmakers>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Tasks" value="3">
                                  <div>
                                          <c-sootasks record-id={recordId} type="RD" onsave={handleSave}></c-sootasks>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Consequences" value="4">
                                  <div>
                                          <c-soo-consequences record-id={recordId} type="RD" onsave={handleSave}></c-soo-consequences>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="TradeTable" value="5">
                                  <div>
                                          <c-soo-trade-table record-id={recordId} type="RD" onsave={handleSave}></c-soo-trade-table>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Milestone" value="6">
                                  <div>
                                          <c-soomilestones record-id={recordId} type="RD" tambarecords={tambaselected} onsave={handleSave}>
                                          </c-soomilestones>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Personal Win" value="7">
                                  <div>
                                          <c-soopersonalwin record-id={recordId} type="RD" onsave={handleSave}></c-soopersonalwin>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="HVPs" value="8">
                                  <div>
                                          <c-soohvps record-id={recordId} type="RD" onsave={handleSave}></c-soohvps>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Area of Strength" value="9">
                                  <div>
                                          <c-sooareastrength record-id={recordId} type="RD" onsave={handleSave}></c-sooareastrength>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Red Flag and Strategy" value="10">
                                  <div>
                                          <c-sooredflagstrategy record-id={recordId} type="RD" onsave={handleSave}></c-sooredflagstrategy>
                                  </div>
                          </lightning-tab>
                          <lightning-tab label="Executive Help Needed" value="11">
                                  <div>
                                          <c-sooexecutivehelp record-id={recordId} type="RD" onsave={handleSave}></c-sooexecutivehelp>
                                  </div>
                          </lightning-tab>
                 </template>
                       </lightning-tabset>
        
                       </lightning-tab>
                          <lightning-tab label="Production" value="3">
                                  <lightning-tabset active-tab-value={activeTab}>
                                          <lightning-tab label="Decision Makers" value="2">
                                                  <div>
                                                          <c-soodecisionmakers record-id={recordId} type="Production" onsave={handleSave}></c-soodecisionmakers>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Tasks" value="3">
                                                  <div>
                                                          <c-sootasks record-id={recordId} type="Production" onsave={handleSave}></c-sootasks>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Consequences" value="4">
                                                  <div>
                                                          <c-soo-consequences record-id={recordId} type="Production" onsave={handleSave}></c-soo-consequences>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="TradeTable" value="5">
                                                  <div>
                                                          <c-soo-trade-table record-id={recordId} type="Production" onsave={handleSave}></c-soo-trade-table>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Milestone" value="6">
                                                  <div>
                                                          <c-soomilestones record-id={recordId} type="Production" onsave={handleSave}></c-soomilestones>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Personal Win" value="7">
                                                  <div>
                                                          <c-soopersonalwin record-id={recordId} type="Production" onsave={handleSave}></c-soopersonalwin>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="HVPs" value="8">
                                                  <div>
                                                          <c-soohvps record-id={recordId} type="Production" onsave={handleSave}></c-soohvps>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Area of Strength" value="9">
                                                  <div>
                                                          <c-sooareastrength record-id={recordId} type="Production" onsave={handleSave}></c-sooareastrength>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Red Flag and_Strategy" value="10">
                                                  <div>
                                                          <c-sooredflagstrategy record-id={recordId} type="Production" onsave={handleSave}></c-sooredflagstrategy>
                                                  </div>
                                          </lightning-tab>
                                          <lightning-tab label="Executive Help Needed" value="11">
                                                  <div>
                                                          <c-sooexecutivehelp record-id={recordId} type="Production" onsave={handleSave}></c-sooexecutivehelp>
                                                  </div>
                                          </lightning-tab>
                                  </lightning-tabset>
                          </lightning-tab>
                  </template>
                          
                    </lightning-tabset>
                    <!--<lightning-tabset active-tab-value={activeTab}>
                    
                    
                 </lightning-tabset> -->
                 </header>
                 <!-- modal body start -->
                <!-- <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                 
                 </div>-->
                 <!-- modal footer start-->
                 <footer class="slds-modal__footer">
                      <!-- <template if:true={displaySave}>
                       <button class="slds-button slds-button_neutral" onclick={save}>Save</button>
                       </template>-->
                    <button class="slds-button slds-button_neutral" onclick={closeModal}>Save & Complete</button>
                    <button class="slds-button slds-button_neutral" onclick={closeModal}>Cancel</button>
                 </footer>
              </div>
           </section>
        
           <div class="slds-backdrop slds-backdrop_open"></div>
        </template>